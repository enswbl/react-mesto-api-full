{"version":3,"sources":["images/white-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/ConfirmDeletePopup.js","components/Footer.js","utils/api.js","images/avatar.jpg","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/success.svg","images/fail.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","userData","history","useHistory","currentPath","useLocation","pathname","className","href","src","whiteLogo","alt","email","onClick","localStorage","removeItem","push","to","CurrentUserContext","React","createContext","Card","title","image","like","owner","id","onSelectedCard","onLikeCard","onRemoveCard","currentUser","useContext","isOwn","_id","isLiked","some","i","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","currentCards","avatar","name","about","map","item","link","PopupWithForm","onSubmit","isOpen","onClose","buttonText","children","action","method","noValidate","EditAvatarPopup","onUpdateAvatar","imageRef","useRef","e","preventDefault","current","value","ref","placeholder","autoComplete","required","EditProfilePopup","onUpdateUser","useState","setNameState","description","setDescriptionState","useEffect","onChange","target","minLength","maxLength","AddPlacePopup","setTitleState","setImageState","ImagePopup","selectedImage","ConfirmDeletePopup","removeIdCard","onDeleteCard","Footer","api","baseUrl","authorization","this","_baseUrl","_authorization","result","ok","json","Promise","reject","status","fetch","headers","then","_checkErrors","body","JSON","stringify","getItem","withRouter","handleLogin","password","setUserData","handleChange","handleRegister","console","log","ProtectedRoute","Component","component","props","loggedIn","InfoTooltip","setShowStatus","setTimeout","success","fail","BASE_URL","checkResponse","res","App","editAvatarState","setEditAvatarState","editProfileState","setEditProfileState","addPlaceState","setAddPlaceState","selectedCard","setSelectedCardState","setSelectedImageState","removeCardState","setRemoveCardState","setRemoveIdCardState","setCurrentUserState","setCurrentCardsState","setLoggedIn","setStatus","showStatus","getUserInfo","catch","err","getInitialCards","response","tokenCheck","closeAllPopups","token","Auth","data","Provider","path","setItem","exact","removeLike","state","c","setLike","cardId","setUserAvatar","setUserInfo","sendCard","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.13f04f4e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/white-logo.ff16f24b.svg\";","import React from 'react';\nimport {Link, useLocation, useHistory} from 'react-router-dom';\nimport whiteLogo from '../images/white-logo.svg'\n\n\nconst Header = ({userData}) => {\n\n    const history = useHistory();\n\n    const signOut = () => {\n        localStorage.removeItem('token');\n        history.push('/sign-up');\n    }\n\n    const location = useLocation();\n    const currentPath = location.pathname;\n\n    return ((\n        <header className='header'>\n\n            <a href='/users/me'><img src={whiteLogo} alt='Логотип' className='header__logo'/></a>\n\n            <div className='header__container'>\n            {currentPath === '/users/me' &&\n            <>\n                <p className='header__email'>{userData.email}</p>\n                <Link className='header__button header__button_sign-in' onClick={signOut}>Выйти</Link>\n            </>\n            }\n\n            {currentPath === '/sign-up' &&\n            <Link className='header__button' to=\"/sign-in\">Войти</Link>\n            }\n\n            {currentPath === '/sign-in' &&\n            <Link className='header__button' to=\"/sign-up\">Регистрация</Link>\n            }\n            </div>\n        </header>\n    ));\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\n\n\nfunction Card({title, image, like, owner, id, onSelectedCard, onLikeCard, onRemoveCard}) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const isOwn = currentUser._id === owner;\n\n    const isLiked = like.some(i => i._id === currentUser._id);\n\n    function handleImageClick() {\n        onSelectedCard({title, image});\n    }\n\n    function handleLikeClick() {\n        onLikeCard({like, id});\n    }\n\n    function handleDeleteClick() {\n        onRemoveCard(id);\n    }\n\n    return ((\n\n        <div className=\"card\">\n            <button type=\"submit\" className={`card__remove-button ${isOwn ? 'card__remove-button_active' : ''}`}\n                    onClick={handleDeleteClick}/>\n            <img\n                className=\"card__image\"\n                src={image} alt={title}\n                onClick={handleImageClick}\n            />\n            <div className=\"card__panel\">\n                <h2 className=\"card__title\">\n                    {title}\n                </h2>\n                <div className=\"card__like-container\">\n                    <button type=\"submit\" className={`card__like-button ${isLiked ? 'card__like-button_active' : ''}`}\n                            onClick={handleLikeClick}/>\n                    <label className=\"card__like-number\">\n                        {like.length}\n                    </label>\n                </div>\n            </div>\n        </div>\n\n    ));\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from \"./Card\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\n\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, currentCards, onSelectedCard, onLikeCard, onRemoveCard}) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return ((\n        <>\n            <section className='profile'>\n                <img src={currentUser.avatar} alt='Аватар' className='profile__avatar'/>\n                <button className='profile__edit-avatar-button' onClick={onEditAvatar}/>\n                <div className='profile__info'>\n                    <div className='profile__name-container'>\n                        <h1 className='profile__name'>{currentUser.name}</h1>\n                        <button type='button' className='profile__edit-profile-button'\n                                onClick={onEditProfile}/>\n                    </div>\n                    <p className='profile__description'>{currentUser.about}</p>\n                </div>\n                <button type='button' className='profile__add-place-button' onClick={onAddPlace}/>\n            </section>\n\n            <section className='container'>\n                {currentCards.map((item) => (\n                    <Card\n                        title={item.name}\n                        image={item.link}\n                        like={item['likes']}\n                        owner={item.owner._id}\n                        id={item._id}\n\n                        key={item._id}\n                        onSelectedCard={onSelectedCard}\n                        onLikeCard={onLikeCard}\n                        onRemoveCard={onRemoveCard}\n                    />\n                ))}\n            </section>\n        </>\n    ));\n}\n\nexport default Main;","import React from \"react\";\n\n\nfunction PopupWithForm({title, name, onSubmit, isOpen, onClose, buttonText, children}) {\n\n    return ((\n        <div className={`popup popup-${name} ${isOpen ? 'popup_opened' : ''}`}>\n            <button type='reset' className='popup__close-button' onClick={onClose}/>\n\n            <form action='#' method='GET' name={name}\n                  className='popup__container' onSubmit={onSubmit} noValidate>\n                <h3 className='popup__title'>{title}</h3>\n                {children}\n                <button type='submit' className='popup__save-button'>{buttonText}</button>\n            </form>\n\n        </div>\n    ));\n}\n\nexport default PopupWithForm;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\n\nfunction EditAvatarPopup({onUpdateAvatar, isOpen, onClose}) {\n\n    const imageRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onUpdateAvatar({\n            avatar: imageRef.current.value,\n        });\n        imageRef.current.value = '';\n    }\n\n    return ((\n        <PopupWithForm\n            title={'Обновить аватар'}\n            name={'edit-avatar'}\n            onSubmit={handleSubmit}\n            isOpen={isOpen}\n            onClose={onClose}\n            buttonText={'Сохранить'}\n        >\n            <input\n                ref={imageRef}\n                type='url'\n                placeholder='Ссылка на аватар'\n                name='avatarLinkInput'\n                id='avatar-link-input'\n                className='popup__input popup__input_add-place popup__input_avatar-link'\n                autoComplete='off'\n                required\n            />\n            <span className='popup__input-error-message avatar-link-input-error-message'/>\n        </PopupWithForm>\n\n    ))\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\n\n\nfunction EditProfilePopup({onUpdateUser, isOpen, onClose}) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [name, setNameState] = React.useState('');\n\n    const [description, setDescriptionState] = React.useState('');\n\n    function handleNameChange(e) {\n        setNameState(e.target.value);\n    }\n\n    function handleDescriptionChange(e) {\n        setDescriptionState(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onUpdateUser({\n            name: name,\n            description: description,\n        });\n    }\n\n    React.useEffect(() => {\n        setNameState(currentUser.name);\n        setDescriptionState(currentUser.about);\n    }, [currentUser]);\n\n\n    return ((\n        <PopupWithForm\n            title={'Редактировать профиль'}\n            name={'edit-profile'}\n            onSubmit={handleSubmit}\n            isOpen={isOpen}\n            onClose={onClose}\n            buttonText={'Сохранить'}\n        >\n            <input\n                value={name}\n                onChange={handleNameChange}\n                type='text'\n                name='profileNameInput'\n                id='profile-name-input'\n                className='popup__input popup__input_profile-name'\n                minLength='2'\n                maxLength='40'\n                autoComplete='off'\n                required\n            />\n            <span className='popup__input-error-message profile-name-input-error-message'/>\n\n            <input\n                value={description}\n                onChange={handleDescriptionChange}\n                type='text'\n                name='profileDescriptionInput'\n                id='profile-description-input'\n                className='popup__input popup__input_profile-description'\n                minLength='2'\n                maxLength='200'\n                autoComplete='off'\n                required\n            />\n            <span className='popup__input-error-message profile-description-input-error-message'/>\n        </PopupWithForm>\n    ))\n}\n\nexport default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\n\nfunction AddPlacePopup({onAddPlace, isOpen, onClose}) {\n\n    const [title, setTitleState] = React.useState('');\n\n    const [image, setImageState] = React.useState('');\n\n    function handleTitleChange(e) {\n        setTitleState(e.target.value);\n    }\n\n    function handleImageChange(e) {\n        setImageState(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onAddPlace({\n            title: title,\n            image: image,\n        });\n    }\n\n    return ((\n        <PopupWithForm\n            title={'Новое место'}\n            name={'add-place'}\n            onSubmit={handleSubmit}\n            isOpen={isOpen}\n            onClose={onClose}\n            buttonText={'Добавить'}\n        >\n            <input\n                onChange={handleTitleChange}\n                type='text'\n                placeholder='Название'\n                name='placeNameInput'\n                id='place-name-input'\n                className='popup__input popup__input_add-place popup__input_place-name'\n                minLength='2'\n                maxLength='30'\n                autoComplete='off'\n                required\n            />\n            <span className='popup__input-error-message place-name-input-error-message'/>\n\n            <input\n                onChange={handleImageChange}\n                type='url'\n                placeholder='Ссылка на картинку'\n                name='placeLinkInput'\n                id='place-link-input'\n                className='popup__input popup__input_add-place popup__input_place-link'\n                autoComplete='off'\n                required\n            />\n            <span className='popup__input-error-message place-link-input-error-message'/>\n        </PopupWithForm>\n    ))\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\n\nfunction ImagePopup({selectedImage, isOpen, onClose}) {\n\n    return ((\n        <div className={`popup popup-photo ${isOpen ? 'popup_opened' : ''}`}>\n            <div className='popup__photo-container'>\n                <button type='reset' className='popup__close-button popup__close-button_photo' onClick={onClose}/>\n                <img className='popup__image' src={isOpen ? selectedImage.image : ''}\n                     alt={isOpen ? selectedImage.title : ''}/>\n\n                <p className='popup__photo-title'>{isOpen ? selectedImage.title : ''}</p>\n            </div>\n        </div>\n    ));\n}\n\nexport default ImagePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\n\nfunction ConfirmDeletePopup({removeIdCard, onDeleteCard, isOpen, onClose}) {\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onDeleteCard(removeIdCard);\n    }\n\n    return ((\n        <PopupWithForm\n            title={'Вы уверены?'}\n            name={'remove-card'}\n            onSubmit={handleSubmit}\n            isOpen={isOpen}\n            onClose={onClose}\n            buttonText={'Да'}\n        />\n    ))\n}\n\nexport default ConfirmDeletePopup;","import React from 'react';\n\n\nfunction Footer() {\n    return ((\n        <footer className='footer'>\n            <p className='footer__copyright'>&copy; 2020 Mesto Russia</p>\n        </footer>\n\n    ));\n}\n\nexport default Footer;","class Api {\n    constructor({baseUrl, authorization}) {\n        this._baseUrl = baseUrl;\n        this._authorization = authorization;\n    }\n\n    _checkErrors(result) {\n        if (!result.ok) {\n            return Promise.reject(`Error: ${result.status}`);\n        }\n        return result.json();\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                authorization: this._authorization,\n            },\n        }).then((result) => this._checkErrors(result));\n    }\n\n    getInitialCards() {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                authorization: this._authorization,\n            },\n        }).then((result) => this._checkErrors(result));\n    }\n\n    setUserInfo({name, description}) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: \"PATCH\",\n            headers: {\n                'Content-Type': 'application/json',\n                authorization: this._authorization,\n            },\n            body: JSON.stringify({\n                name: name,\n                about: description\n            }),\n        }).then((result) => this._checkErrors(result));\n    }\n\n    setUserAvatar({avatar}) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: \"PATCH\",\n            headers: {\n                'Content-Type': 'application/json',\n                authorization: this._authorization,\n            },\n            body: JSON.stringify({\n                avatar: avatar,\n            }),\n        }).then((result) => this._checkErrors(result));\n    }\n\n    sendCard({title, image}) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                authorization: this._authorization,\n            },\n            body: JSON.stringify({\n                name: title,\n                link: image\n            }),\n        }).then((result) => this._checkErrors(result));\n    }\n\n    setLike(item) {\n        return fetch(`${this._baseUrl}/cards/likes/${item}`, {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                authorization: this._authorization,\n            },\n        }).then((result) => this._checkErrors(result));\n    }\n\n    removeLike(item) {\n        return fetch(`${this._baseUrl}/cards/likes/${item}`, {\n            method: \"DELETE\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                authorization: this._authorization,\n            },\n        }).then((result) => this._checkErrors(result));\n    }\n\n    removeCard(item) {\n        return fetch(`${this._baseUrl}/cards/${item}`, {\n            method: \"DELETE\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                authorization: this._authorization,\n            },\n        }).then((result) => this._checkErrors(result));\n    }\n\n}\n\nconst api = new Api({\n    baseUrl: \"https://api.mestoapp.nomoredomains.monster\",\n    authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n});\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/avatar.c15cb08a.jpg\";","import React from 'react';\nimport {withRouter} from 'react-router-dom';\n\nconst Login = ({handleLogin}) => {\n    const [userData, setUserData] = React.useState({email: '', password: ''});\n\n    const handleChange = (e) => {\n        const {name, value} = e.target;\n        setUserData({\n            ...userData,\n            [name]: value\n        });\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        handleLogin(userData)\n\n    }\n\n    return ((\n        <>\n            <form action='#' method='POST' onSubmit={handleSubmit} className=\"login\">\n                <h1 className='login__title'>Вход</h1>\n\n                <input onChange={handleChange}\n                       value={userData.email}\n                       id=\"email\"\n                       name=\"email\"\n                       className=\"login__input\"\n                       type='email'\n                       placeholder='Email'\n                       minLength='2'\n                       maxLength='30'\n                       autoComplete='off'\n                       required/>\n\n                <input onChange={handleChange}\n                       value={userData.password}\n                       id=\"password\"\n                       name=\"password\"\n                       className=\"login__input\"\n                       type='password'\n                       placeholder='Пароль'\n                       minLength='2'\n                       maxLength='30'\n                       autoComplete='off'\n                       required/>\n\n                <button type=\"submit\" className=\"login__button login__button_sign-in \">Войти</button>\n            </form>\n        </>\n\n    ));\n}\n\nexport default withRouter(Login);\n","import React from 'react';\nimport {Link, withRouter} from 'react-router-dom';\n\nconst Register = ({handleRegister}) => {\n\n    const [userData, setUserData] = React.useState({email: '', password: ''});\n\n    const handleChange = (e) => {\n        const {name, value} = e.target;\n        setUserData({\n            ...userData,\n            [name]: value\n        });\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        handleRegister(userData)\n        console.log('userData', userData)\n    }\n\n    return ((\n        <>\n            <form action='#' method='POST' onSubmit={handleSubmit} className=\"login\">\n                <h1 className='login__title'>Регистрация</h1>\n\n                <input onChange={handleChange}\n                       value={userData.email}\n                       id=\"email\"\n                       name=\"email\"\n                       className=\"login__input\"\n                       type='email'\n                       placeholder='Email'\n                       minLength='2'\n                       maxLength='30'\n                       autoComplete='off'\n                       required/>\n\n                <input onChange={handleChange}\n                       value={userData.password}\n                       id=\"password\"\n                       name=\"password\"\n                       className=\"login__input\"\n                       type='password'\n                       placeholder='Пароль'\n                       minLength='2'\n                       maxLength='30'\n                       autoComplete='off'\n                       required/>\n\n                <button type=\"submit\" className=\"login__button\" >Зарегистрироваться</button>\n\n                <Link to=\"/sign-in\" className=\"login__link\">Уже зарегистрированы? Войти</Link>\n            </form>\n        </>\n    ));\n}\n\nexport default withRouter(Register);\n","import React from \"react\";\nimport {Route, Redirect} from \"react-router-dom\";\nimport Footer from './Footer';\n\nconst ProtectedRoute = ({component: Component, ...props}) => {\n    return (\n        <Route>\n            {() =>\n                props.loggedIn ? <> <Redirect to=\"/users/me\"/> <Component {...props} /> <Footer/> </> :\n                    <Redirect to=\"/sign-up\"/>\n            }\n        </Route>\n    );\n};\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport success from \"../images/success.svg\";\nimport fail from \"../images/fail.svg\";\n\n\nfunction InfoTooltip({status, isOpen, setShowStatus}) {\n\n    const history = useHistory();\n\n    const closeTrue = () => {\n        setShowStatus({isOpen: false})\n\n        setTimeout(() => {\n            history.push('/sign-in')\n        }, 300)\n    }\n\n    const closeFalse = () => {\n        setShowStatus({isOpen: false});\n    }\n\n    return ((\n        <div className={`popup popup-status ${isOpen ? 'popup_opened' : ''}`}>\n\n            {status ?\n                <button type='reset' className='popup__close-button popup__close-button_status' onClick={closeTrue}/>\n                :\n                <button type='reset' className='popup__close-button popup__close-button_status' onClick={closeFalse}/>\n            }\n            <div className='popup__container'>\n                <img src={status ? success : fail} alt={status ? 'success' : 'fail'} className='popup__icon'/>\n                <h3 className='popup__status-name'>{status ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так!\\n' +\n                    'Попробуйте ещё раз.'}</h3>\n            </div>\n        </div>\n    ));\n}\n\nexport default InfoTooltip;\n\n","import React from 'react';\n\n\nexport const BASE_URL = 'https://api.mestoapp.nomoredomains.monster';\n\nconst checkResponse = (res) => {\n    if (!res.ok) {\n        return Promise.reject(`Error: ${res.status}`);\n    }\n    return res.json();\n}\n\nexport const register = ({email, password}) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({password, email})\n    })\n        .then((res) => checkResponse(res))\n        .then((res) => {\n            return res;\n        })\n};\n\nexport const authorize = ({email, password}) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({password, email})\n    })\n        .then((res) => checkResponse(res))\n        .then((res) => {\n            return res;\n        })\n};\n\nexport const checkData = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n        }\n    })\n        .then((res) => checkResponse(res))\n        .then((res) => {\n            return res;\n        })\n};\n","import React from 'react';\nimport {Route, Switch, Redirect, useHistory} from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\n/*import PopupWithForm from '../PopupWithForm/PopupWithForm';*/\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\nimport Footer from './Footer';\nimport api from '../utils/api';\n\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\nimport avatar from '../images/avatar.jpg';\n\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\n\nimport * as Auth from '../utils/auth';\n\n\nfunction App() {\n\n    const [editAvatarState, setEditAvatarState] = React.useState({\n        isOpen: false,\n    });\n    const [editProfileState, setEditProfileState] = React.useState({\n        isOpen: false,\n    });\n    const [addPlaceState, setAddPlaceState] = React.useState({\n        isOpen: false,\n    });\n\n    const [selectedCard, setSelectedCardState] = React.useState({isOpen: false});\n\n    const [selectedImage, setSelectedImageState] = React.useState({title: '', image: ''});\n\n    const [removeCardState, setRemoveCardState] = React.useState({isOpen: false});\n\n    const [removeIdCard, setRemoveIdCardState] = React.useState();\n\n    const [currentUser, setCurrentUserState] = React.useState({\n        avatar: avatar,\n        name: 'Жак-Ив Кусто',\n        about: 'Исследователь океана',\n        _id: '',\n    });\n\n    const [currentCards, setCurrentCardsState] = React.useState([]);\n\n    const [loggedIn, setLoggedIn] = React.useState()\n\n    const [userData, setUserData] = React.useState({\n        email: '',\n    })\n\n    const [status, setStatus] = React.useState();\n    const [showStatus, setShowStatus] = React.useState({isOpen: false});\n\n    const history = useHistory();\n\n    React.useEffect(() => {\n        api.getUserInfo()\n            .then((result) => {\n                setCurrentUserState(result)\n            })\n            .catch((err) => {\n                console.log(\"Something is Wrong:\", err);\n            });\n    }, [])\n\n\n    React.useEffect(() => {\n        api.getInitialCards()\n            .then((response) => {\n                setCurrentCardsState(response)\n            })\n            .catch((err) => {\n                console.log(\"Something is Wrong:\", err);\n            });\n    }, []);\n\n    React.useEffect(() => {\n        if (loggedIn) {\n            history.push('/users/me');\n        }\n    }, [loggedIn])\n\n    React.useEffect(() => {\n        tokenCheck()\n    }, [])\n\n    const handleUpdateAvatar = ({avatar}) => {\n        api.setUserAvatar({avatar})\n            .then((res) => {\n                setCurrentUserState(res);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(\"Something is Wrong:\", err);\n            });\n    }\n\n    const handleUpdateUser = ({name, description}) => {\n        api.setUserInfo({name, description})\n            .then((res) => {\n                setCurrentUserState(res)\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(\"Something is Wrong:\", err);\n            });\n    }\n\n    const handleAddPlaceSubmit = ({title, image}) => {\n        api.sendCard({title, image})\n            .then((res) => {\n                setCurrentCardsState(([res, ...currentCards]))\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(\"Something is Wrong:\", err);\n            });\n    }\n\n    const handleLikeCardClick = ({like, id}) => {\n        const isLiked = like.some(i => i._id === currentUser._id);\n\n        !isLiked ?\n            api.setLike(id, !isLiked)\n                .then((result) => {\n                    setCurrentCardsState((state) => state.map((c) => c._id === id ? result : c));\n                })\n                .catch((err) => {\n                    console.log(\"Something is Wrong:\", err);\n                })\n            :\n            api.removeLike(id, isLiked)\n                .then((result) => {\n                    setCurrentCardsState((state) => state.map((c) => c._id === id ? result : c));\n                })\n                .catch((err) => {\n                    console.log(\"Something is Wrong:\", err);\n                });\n    }\n\n    const handleDeleteCardClick = (cardId) => {\n        api.removeCard(cardId)\n            .then(() => {\n                setCurrentCardsState(currentCards.filter(item => item._id !== cardId))\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(\"Something is Wrong:\", err);\n            });\n    }\n\n    const handleEditAvatarClick = () => {\n        setEditAvatarState({isOpen: true});\n    };\n\n    const handleEditProfileClick = () => {\n        setEditProfileState({isOpen: true});\n    };\n\n    const handleAddPlaceClick = () => {\n        setAddPlaceState({isOpen: true});\n    };\n\n    const handleSelectedCardClick = (item) => {\n        setSelectedCardState({isOpen: true});\n        setSelectedImageState({title: item.title, image: item.image});\n    };\n\n    const handleRemoveCardClick = (cardId) => {\n        setRemoveCardState({isOpen: true});\n        setRemoveIdCardState(cardId);\n    };\n\n    const closeAllPopups = () => {\n        setEditAvatarState({isOpen: false});\n        setEditProfileState({isOpen: false});\n        setAddPlaceState({isOpen: false});\n        setRemoveCardState({isOpen: false});\n        setSelectedCardState({isOpen: false});\n    };\n\n    const handleLogin = ({email, password}) => {\n        return Auth.authorize({email, password})\n            .then((res) => {\n                if (res.token) {\n\n                    setLoggedIn(true)\n                    localStorage.setItem('token', res.token)\n                    tokenCheck();\n\n                    setTimeout(() => {\n                        history.push('/users/me')\n                    }, 2000)\n                    return res;\n                }\n            })\n            .catch(() => {\n                console.log('Error!');\n            })\n    }\n\n    const handleRegister = ({email, password}) => {\n        return Auth.register({email, password})\n            .then((res) => {\n                if (res.data) {\n                    localStorage.setItem('token', res.token)\n\n                    setStatus(true)\n                    setShowStatus({isOpen: true})\n\n                    return res;\n                }\n            }).catch(() => {\n                setStatus(false)\n                setShowStatus({isOpen: true})\n            })\n    }\n\n    const tokenCheck = () => {\n        if (localStorage.getItem('token')) {\n            let token = localStorage.getItem('token');\n            Auth.checkData(token)\n                .then((res) => {\n                    if (res) {\n                        setLoggedIn(true);\n                        history.push('/users/me');\n                        setUserData({email: res.data.email})\n                    }\n                });\n        }\n    }\n\n    return ((\n        <>\n            <CurrentUserContext.Provider value={currentUser}>\n\n\n                <Header userData={userData}/>\n                <main className='content'>\n\n                    <Route path='/'>\n                        {loggedIn && <Redirect to='/users/me'/>}\n                    </Route>\n\n                    <Switch>\n\n                        <Route path='/sign-up'>\n                            <Register handleRegister={handleRegister}\n                            />\n                        </Route>\n\n                        <Route path='/sign-in'>\n                            <Login handleLogin={handleLogin}/>\n                        </Route>\n\n                        <ProtectedRoute\n                            exact\n                            path='*'\n                            loggedIn={loggedIn}\n                            onEditAvatar={handleEditAvatarClick}\n                            onEditProfile={handleEditProfileClick}\n                            onAddPlace={handleAddPlaceClick}\n                            currentCards={currentCards}\n                            onSelectedCard={handleSelectedCardClick}\n                            onLikeCard={handleLikeCardClick}\n                            onRemoveCard={handleRemoveCardClick}\n                            component={Main}\n                        />\n\n                    </Switch>\n\n                    <section className='popups'>\n\n                        <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={editAvatarState.isOpen}\n                                         onClose={closeAllPopups}/>\n\n                        <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={editProfileState.isOpen}\n                                          onClose={closeAllPopups}/>\n\n                        <AddPlacePopup onAddPlace={handleAddPlaceSubmit} isOpen={addPlaceState.isOpen}\n                                       onClose={closeAllPopups}/>\n\n                        <ConfirmDeletePopup removeIdCard={removeIdCard} onDeleteCard={handleDeleteCardClick}\n                                            isOpen={removeCardState.isOpen}\n                                            onClose={closeAllPopups}/>\n\n                        <ImagePopup selectedImage={selectedImage} isOpen={selectedCard.isOpen}\n                                    onClose={closeAllPopups}/>\n\n                        <InfoTooltip status={status} isOpen={showStatus.isOpen}\n                                     setShowStatus={setShowStatus}/>\n\n                    </section>\n                </main>\n\n            </CurrentUserContext.Provider>\n        </>\n    ))\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n          <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}